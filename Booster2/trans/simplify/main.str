module simplify/main

imports
  include/Booster2
  
  simplify/guardedCommand

rules

	simplify-main:
		system -> system
		with
			simp-programs := <map(simp)> <LookupTable> "Programs"; 
			rules(
				LookupTable :+ "Programs" -> simp-programs
			)
			
	simp:
		((classname, progname), prog) 
			-> ((classname, progname), <innermost(simplify)> prog)